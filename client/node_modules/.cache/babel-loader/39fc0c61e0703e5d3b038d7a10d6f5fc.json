{"ast":null,"code":"var _jsxFileName = \"D:\\\\UTE\\\\DienToanDamMay\\\\FinalProject\\\\student_management\\\\client\\\\src\\\\HomePage\\\\Component\\\\Noti\\\\NotiList.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/jsx-pascal-case */\nimport React, { useState, useEffect, useReducer } from \"react\";\nimport NotiForm from \"./NotiForm\";\nimport Noti from \"./Noti\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Noti_Form = styled.div`\n  width: 50%;\n  margin: auto;\n  background-color: rgb(190, 185, 185);\n  min-height: 50vh;\n  padding: 30px 0 30px 0;\n  margin-top: 5vh;\n  border-radius: 20px;\n  margin-bottom: 10vh;\n  // overflow: hidden;\n`;\n_c = Noti_Form;\nconst Noti_title = styled.h1`\n  width: 80%;\n  margin: auto;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n  text-shadow: 2px 7px 5px rgba(0, 0, 0, 0.3);\n  font-size: 5rem;\n  text-align: center;\n  font-weight: bold;\n  color: #0b5592;\n`;\n_c2 = Noti_title;\n\nfunction TodoList(props) {\n  _s();\n\n  const [todos, setTodos] = useState([]);\n  const [lop, setLop] = useState([]);\n  useEffect(() => {\n    async function fetchNotiList() {\n      const lop = sessionStorage.getItem(\"lop\").split(\", \");\n      setLop(lop);\n      const item = sessionStorage.getItem(\"item\") === null ? sessionStorage.getItem(\"lop\") : sessionStorage.getItem(\"item\");\n      console.log(item);\n      await axios.get(`http://localhost:5000/post/${item}`).then(response => {\n        console.log(response.data);\n        setTodos(response.data.getpost);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n\n    fetchNotiList();\n  }, []);\n\n  const ChooseClass = async item => {\n    sessionStorage.setItem(\"item\", item);\n    await axios.get(`http://localhost:5000/post/${item}`).then(response => {\n      console.log(response.data);\n      setTodos(response.data.getpost);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const addTodo = todo => {\n    if (!todo.content || /^\\s*$/.test(todo.content)) {\n      return;\n    }\n\n    const newTodos = [todo, ...todos];\n    setTodos(newTodos);\n  };\n\n  const removeTodo = async id => {\n    await axios.delete(`http://localhost:5000/post/delete/${id}`);\n    const removedArr = [...todos].filter(todo => todo.id !== id);\n    setTodos(removedArr);\n  };\n\n  const role = props.role;\n\n  if (role !== \"student\") {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn dropdown-toggle\",\n          id: \"dropdownMsv\",\n          \"data-toggle\": \"dropdown\",\n          \"aria-haspopup\": \"true\",\n          \"aria-expanded\": \"true\",\n          children: [\"Ch\\u1ECDn l\\u1EDBp \\xA0 \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"fa fa-caret-square-o-down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"dropdown-menu\",\n          \"aria-labelledby\": \"dropdownMenu1\",\n          children: lop.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => ChooseClass(item),\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              role: \"button\",\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          padding: \"5px\"\n        },\n        children: sessionStorage.getItem(\"item\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Noti_Form, {\n        children: [/*#__PURE__*/_jsxDEV(Noti_title, {\n          children: \"TH\\xD4NG B\\xC1O\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NotiForm, {\n          todos: todos,\n          onSubmit: addTodo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Noti, {\n          role: role,\n          todos: todos,\n          removeTodo: removeTodo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Noti_Form, {\n      children: [/*#__PURE__*/_jsxDEV(Noti_title, {\n        children: \"TH\\xD4NG B\\xC1O\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Noti, {\n        role: role,\n        todos: todos,\n        removeTodo: removeTodo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(TodoList, \"5R5X7PuArPEQd0cvDaeokHzqKe8=\");\n\n_c3 = TodoList;\nexport default TodoList;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Noti_Form\");\n$RefreshReg$(_c2, \"Noti_title\");\n$RefreshReg$(_c3, \"TodoList\");","map":{"version":3,"sources":["D:/UTE/DienToanDamMay/FinalProject/student_management/client/src/HomePage/Component/Noti/NotiList.js"],"names":["React","useState","useEffect","useReducer","NotiForm","Noti","styled","axios","Noti_Form","div","Noti_title","h1","TodoList","props","todos","setTodos","lop","setLop","fetchNotiList","sessionStorage","getItem","split","item","console","log","get","then","response","data","getpost","catch","err","ChooseClass","setItem","addTodo","todo","content","test","newTodos","removeTodo","id","delete","removedArr","filter","role","map","index","padding"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect, useReducer } from \"react\";\r\nimport NotiForm from \"./NotiForm\";\r\nimport Noti from \"./Noti\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\n\r\nconst Noti_Form = styled.div`\r\n  width: 50%;\r\n  margin: auto;\r\n  background-color: rgb(190, 185, 185);\r\n  min-height: 50vh;\r\n  padding: 30px 0 30px 0;\r\n  margin-top: 5vh;\r\n  border-radius: 20px;\r\n  margin-bottom: 10vh;\r\n  // overflow: hidden;\r\n`;\r\n\r\nconst Noti_title = styled.h1`\r\n  width: 80%;\r\n  margin: auto;\r\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\r\n  text-shadow: 2px 7px 5px rgba(0, 0, 0, 0.3);\r\n  font-size: 5rem;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  color: #0b5592;\r\n`;\r\n\r\nfunction TodoList(props) {\r\n  const [todos, setTodos] = useState([]);\r\n  const [lop, setLop] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchNotiList() {\r\n      const lop = sessionStorage.getItem(\"lop\").split(\", \");\r\n      setLop(lop);\r\n\r\n      const item =\r\n        sessionStorage.getItem(\"item\") === null\r\n          ? sessionStorage.getItem(\"lop\")\r\n          : sessionStorage.getItem(\"item\");\r\n      console.log(item);\r\n      await axios\r\n        .get(`http://localhost:5000/post/${item}`)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          setTodos(response.data.getpost);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n    fetchNotiList();\r\n  }, []);\r\n\r\n  const ChooseClass = async (item) => {\r\n    sessionStorage.setItem(\"item\", item);\r\n    await axios\r\n      .get(`http://localhost:5000/post/${item}`)\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        setTodos(response.data.getpost);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const addTodo = (todo) => {\r\n    if (!todo.content || /^\\s*$/.test(todo.content)) {\r\n      return;\r\n    }\r\n    const newTodos = [todo, ...todos];\r\n\r\n    setTodos(newTodos);\r\n  };\r\n\r\n  const removeTodo = async (id) => {\r\n    await axios.delete(`http://localhost:5000/post/delete/${id}`);\r\n    const removedArr = [...todos].filter((todo) => todo.id !== id);\r\n    setTodos(removedArr);\r\n  };\r\n  const role = props.role;\r\n  if (role !== \"student\") {\r\n    return (\r\n      <>\r\n        <div className=\"dropdown\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn dropdown-toggle\"\r\n            id=\"dropdownMsv\"\r\n            data-toggle=\"dropdown\"\r\n            aria-haspopup=\"true\"\r\n            aria-expanded=\"true\"\r\n          >\r\n            Chọn lớp &nbsp; <span className=\"fa fa-caret-square-o-down\"></span>\r\n          </button>\r\n          <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu1\">\r\n            {lop.map((item, index) => (\r\n              <li key={index} onClick={() => ChooseClass(item)}>\r\n                <a role=\"button\">{item}</a>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <label\r\n          style={{\r\n            padding: \"5px\",\r\n          }}\r\n        >\r\n          {sessionStorage.getItem(\"item\")}\r\n        </label>\r\n        <Noti_Form>\r\n          <Noti_title>THÔNG BÁO</Noti_title>\r\n          <NotiForm todos={todos} onSubmit={addTodo} />\r\n          <Noti role={role} todos={todos} removeTodo={removeTodo} />\r\n        </Noti_Form>\r\n      </>\r\n    );\r\n  } else {\r\n    return (\r\n      <Noti_Form>\r\n        <Noti_title>THÔNG BÁO</Noti_title>\r\n        <Noti role={role} todos={todos} removeTodo={removeTodo} />\r\n      </Noti_Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TodoList;\r\n"]},"metadata":{},"sourceType":"module"}