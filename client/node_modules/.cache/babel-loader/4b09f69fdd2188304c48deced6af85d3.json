{"ast":null,"code":"var _jsxFileName = \"D:\\\\UTE\\\\DienToanDamMay\\\\FinalProject\\\\student_management\\\\client\\\\src\\\\Chart\\\\Chart.js\";\n\n/* eslint-disable react/style-prop-object */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { Component } from \"react\";\nimport { ComposedChart, Line, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell } from \"recharts\";\nimport styled from \"styled-components\";\nimport CallApi from \"../API/CallApi\"; //css\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  width: 100%;\n`;\n_c = Container;\nconst Chart1 = styled.div`\n  margin: auto;\n  width: 75%;\n  padding: 0px;\n  margin-bottom: 20px;\n  border: 1px solid black;\n  border-radius: 10px;\n`;\n_c2 = Chart1;\nconst Chart2 = styled.div`\n  width: 75%;\n  margin: auto;\n  margin-bottom: 20px;\n  border: 1px solid black;\n  border-radius: 10px;\n`;\n_c3 = Chart2;\nconst Center2 = styled.div`\n  max-width: 50%;\n  margin: auto;\n`;\n_c4 = Center2;\nconst Center1 = styled.div`\n  max-width: 90%;\n  margin: auto;\n`;\n_c5 = Center1;\n\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.ChooseClass = item => {\n      sessionStorage.setItem(\"item\", item);\n      CallApi(`student/all/${item}`, \"GET\", null).then(res => {\n        console.log(res.data.ListStudents);\n\n        if (res.data.ListStudents != null) {\n          this.setState({\n            students: res.data.ListStudents\n          });\n        } else {\n          this.setState({\n            students: []\n          });\n        }\n      });\n    };\n\n    this.state = {\n      students: [],\n      lop: []\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      lop: sessionStorage.getItem(\"lop\").split(\", \")\n    });\n    var item = sessionStorage.getItem(\"item\");\n    CallApi(`student/all/${item}`, \"GET\", null).then(res => {\n      if (res.data.ListStudents != null) {\n        this.setState({\n          students: res.data.ListStudents\n        });\n      } else {\n        this.setState({\n          students: []\n        });\n      }\n    });\n  }\n\n  render() {\n    //bar-chart\n    var data_bar_chart = [{\n      name: \"Nguy cơ nghỉ học\",\n      Số_SV: 0\n    }, {\n      name: \"Cảnh báo học vụ\",\n      Số_SV: 0\n    }, {\n      name: \"Thiếu tín chỉ\",\n      Số_SV: 0\n    }, {\n      name: \"Thiếu học phí\",\n      Số_SV: 0\n    }, {\n      name: \"Không\",\n      Số_SV: 0\n    }, {\n      name: \"Khen thưởng\",\n      Số_SV: 0\n    }]; //pie-chart\n\n    var data_pie_chart = [{\n      name: \"Yếu\",\n      value: 0\n    }, {\n      name: \"Trung bình\",\n      value: 0\n    }, {\n      name: \"Khá\",\n      value: 0\n    }, {\n      name: \"Giỏi\",\n      value: 0\n    }, {\n      name: \"Xuất sắc\",\n      value: 0\n    }];\n    var COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\", \"#413ea0\"];\n    var RADIAN = Math.PI / 180;\n\n    var renderCustom = ({\n      cx,\n      cy,\n      midAngle,\n      innerRadius,\n      outerRadius,\n      percent,\n      index\n    }) => {\n      const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n      const x = cx + radius * Math.cos(-midAngle * RADIAN);\n      const y = cy + radius * Math.sin(-midAngle * RADIAN);\n      return /*#__PURE__*/_jsxDEV(\"text\", {\n        x: x,\n        y: y,\n        fill: \"white\",\n        textAnchor: x > cx ? \"start\" : \"end\",\n        dominantBaseline: \"central\",\n        children: `${(percent * 100).toFixed(0)}%`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this);\n    };\n\n    var {\n      students,\n      lop\n    } = this.state;\n\n    for (let i = 0; i < students.length; i++) {\n      if (students[i].gpa < 2.0) {\n        data_pie_chart[0].value += 1;\n      }\n\n      if (students[i].gpa >= 2.0 && students[i].gpa < 2.5) {\n        data_pie_chart[1].value += 1;\n      }\n\n      if (students[i].gpa >= 2.5 && students[i].gpa < 3.2) {\n        data_pie_chart[2].value += 1;\n      }\n\n      if (students[i].gpa >= 3.2 && students[i].gpa < 3.6) {\n        data_pie_chart[3].value += 1;\n      }\n\n      if (students[i].gpa >= 3.6 && students[i].gpa <= 4.0) {\n        data_pie_chart[4].value += 1;\n      }\n    }\n\n    for (let i = 0; i < students.length; i++) {\n      if (students[i].status === \"Nguy cơ nghỉ học\") {\n        data_bar_chart[0].Số_SV += 1;\n      }\n\n      if (students[i].status === \"Cảnh báo học vụ\") {\n        data_bar_chart[1].Số_SV += 1;\n      }\n\n      if (students[i].status === \"Thiếu tín chỉ\") {\n        data_bar_chart[2].Số_SV += 1;\n      }\n\n      if (students[i].status === \"Thiếu học phí\") {\n        data_bar_chart[3].Số_SV += 1;\n      }\n\n      if (students[i].status === \"Không\") {\n        data_bar_chart[4].Số_SV += 1;\n      }\n\n      if (students[i].status === \"Khen thưởng\") {\n        data_bar_chart[5].Số_SV += 1;\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn dropdown-toggle\",\n          id: \"dropdownMsv\",\n          \"data-toggle\": \"dropdown\",\n          \"aria-haspopup\": \"true\",\n          \"aria-expanded\": \"true\",\n          children: [\"Ch\\u1ECDn l\\u1EDBp \\xA0 \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"fa fa-caret-square-o-down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"dropdown-menu\",\n          \"aria-labelledby\": \"dropdownMenu1\",\n          children: lop.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            to: \"/home/list-students\",\n            onClick: () => this.ChooseClass(item),\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              role: \"button\",\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this)\n          }, item, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          padding: \"5px\"\n        },\n        children: sessionStorage.getItem(\"item\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(Chart2, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"BI\\u1EC2U \\u0110\\u1ED2 TH\\u1ED0NG K\\xCA GPA SINH VI\\xCAN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Center2, {\n          children: [/*#__PURE__*/_jsxDEV(PieChart, {\n            width: 500,\n            height: 450,\n            children: [/*#__PURE__*/_jsxDEV(Pie, {\n              data: data_pie_chart,\n              isAnimationActive: true,\n              cx: \"50%\",\n              cy: \"50%\",\n              label: renderCustom,\n              outerRadius: 120,\n              fill: \"#8884d8\",\n              dataKey: \"value\",\n              children: data_pie_chart.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                fill: COLORS[index % COLORS.length]\n              }, `cell-${index}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Chart1, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"BI\\u1EC2U \\u0110\\u1ED2 TH\\u1ED0NG K\\xCA TR\\u1EA0NG TH\\xC1I SINH VI\\xCAN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Center1, {\n          children: /*#__PURE__*/_jsxDEV(ComposedChart, {\n            width: 900,\n            height: 500,\n            data: data_bar_chart,\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              stroke: \"#f5f5f5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"name\",\n              scale: \"band\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"S\\u1ED1_SV\",\n              barSize: 50,\n              fill: \"#413ea0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Line, {\n              type: \"monotone\",\n              dataKey: \"S\\u1ED1_SV\",\n              stroke: \"#ff7300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Chart;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Chart1\");\n$RefreshReg$(_c3, \"Chart2\");\n$RefreshReg$(_c4, \"Center2\");\n$RefreshReg$(_c5, \"Center1\");","map":{"version":3,"sources":["D:/UTE/DienToanDamMay/FinalProject/student_management/client/src/Chart/Chart.js"],"names":["React","Component","ComposedChart","Line","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","PieChart","Pie","Cell","styled","CallApi","Container","div","Chart1","Chart2","Center2","Center1","Chart","constructor","props","ChooseClass","item","sessionStorage","setItem","then","res","console","log","data","ListStudents","setState","students","state","lop","componentDidMount","getItem","split","render","data_bar_chart","name","Số_SV","data_pie_chart","value","COLORS","RADIAN","Math","PI","renderCustom","cx","cy","midAngle","innerRadius","outerRadius","percent","index","radius","x","cos","y","sin","toFixed","i","length","gpa","status","map","padding","textAlign","entry"],"mappings":"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","sourcesContent":["/* eslint-disable react/style-prop-object */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { Component } from \"react\";\r\nimport {\r\n  ComposedChart,\r\n  Line,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n} from \"recharts\";\r\nimport styled from \"styled-components\";\r\nimport CallApi from \"../API/CallApi\";\r\n\r\n//css\r\nconst Container = styled.div`\r\n  width: 100%;\r\n`;\r\nconst Chart1 = styled.div`\r\n  margin: auto;\r\n  width: 75%;\r\n  padding: 0px;\r\n  margin-bottom: 20px;\r\n  border: 1px solid black;\r\n  border-radius: 10px;\r\n`;\r\nconst Chart2 = styled.div`\r\n  width: 75%;\r\n  margin: auto;\r\n  margin-bottom: 20px;\r\n  border: 1px solid black;\r\n  border-radius: 10px;\r\n`;\r\nconst Center2 = styled.div`\r\n  max-width: 50%;\r\n  margin: auto;\r\n`;\r\nconst Center1 = styled.div`\r\n  max-width: 90%;\r\n  margin: auto;\r\n`;\r\nclass Chart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      students: [],\r\n      lop: [],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.setState({\r\n      lop: sessionStorage.getItem(\"lop\").split(\", \"),\r\n    });\r\n    var item = sessionStorage.getItem(\"item\");\r\n\r\n    CallApi(`student/all/${item}`, \"GET\", null).then((res) => {\r\n      if (res.data.ListStudents != null) {\r\n        this.setState({\r\n          students: res.data.ListStudents,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          students: [],\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ChooseClass = (item) => {\r\n    sessionStorage.setItem(\"item\", item);\r\n    CallApi(`student/all/${item}`, \"GET\", null).then((res) => {\r\n      console.log(res.data.ListStudents);\r\n      if (res.data.ListStudents != null) {\r\n        this.setState({\r\n          students: res.data.ListStudents,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          students: [],\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    //bar-chart\r\n    var data_bar_chart = [\r\n      {\r\n        name: \"Nguy cơ nghỉ học\",\r\n        Số_SV: 0,\r\n      },\r\n      {\r\n        name: \"Cảnh báo học vụ\",\r\n        Số_SV: 0,\r\n      },\r\n      {\r\n        name: \"Thiếu tín chỉ\",\r\n        Số_SV: 0,\r\n      },\r\n      {\r\n        name: \"Thiếu học phí\",\r\n        Số_SV: 0,\r\n      },\r\n      {\r\n        name: \"Không\",\r\n        Số_SV: 0,\r\n      },\r\n      {\r\n        name: \"Khen thưởng\",\r\n        Số_SV: 0,\r\n      },\r\n    ];\r\n\r\n    //pie-chart\r\n    var data_pie_chart = [\r\n      { name: \"Yếu\", value: 0 },\r\n      { name: \"Trung bình\", value: 0 },\r\n      { name: \"Khá\", value: 0 },\r\n      { name: \"Giỏi\", value: 0 },\r\n      { name: \"Xuất sắc\", value: 0 },\r\n    ];\r\n    var COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\", \"#413ea0\"];\r\n    var RADIAN = Math.PI / 180;\r\n    var renderCustom = ({\r\n      cx,\r\n      cy,\r\n      midAngle,\r\n      innerRadius,\r\n      outerRadius,\r\n      percent,\r\n      index,\r\n    }) => {\r\n      const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n      const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n      const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n      return (\r\n        <text\r\n          x={x}\r\n          y={y}\r\n          fill=\"white\"\r\n          textAnchor={x > cx ? \"start\" : \"end\"}\r\n          dominantBaseline=\"central\"\r\n        >\r\n          {`${(percent * 100).toFixed(0)}%`}\r\n        </text>\r\n      );\r\n    };\r\n\r\n    var { students, lop } = this.state;\r\n    for (let i = 0; i < students.length; i++) {\r\n      if (students[i].gpa < 2.0) {\r\n        data_pie_chart[0].value += 1;\r\n      }\r\n      if (students[i].gpa >= 2.0 && students[i].gpa < 2.5) {\r\n        data_pie_chart[1].value += 1;\r\n      }\r\n      if (students[i].gpa >= 2.5 && students[i].gpa < 3.2) {\r\n        data_pie_chart[2].value += 1;\r\n      }\r\n      if (students[i].gpa >= 3.2 && students[i].gpa < 3.6) {\r\n        data_pie_chart[3].value += 1;\r\n      }\r\n      if (students[i].gpa >= 3.6 && students[i].gpa <= 4.0) {\r\n        data_pie_chart[4].value += 1;\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < students.length; i++) {\r\n      if (students[i].status === \"Nguy cơ nghỉ học\") {\r\n        data_bar_chart[0].Số_SV += 1;\r\n      }\r\n      if (students[i].status === \"Cảnh báo học vụ\") {\r\n        data_bar_chart[1].Số_SV += 1;\r\n      }\r\n      if (students[i].status === \"Thiếu tín chỉ\") {\r\n        data_bar_chart[2].Số_SV += 1;\r\n      }\r\n      if (students[i].status === \"Thiếu học phí\") {\r\n        data_bar_chart[3].Số_SV += 1;\r\n      }\r\n      if (students[i].status === \"Không\") {\r\n        data_bar_chart[4].Số_SV += 1;\r\n      }\r\n      if (students[i].status === \"Khen thưởng\") {\r\n        data_bar_chart[5].Số_SV += 1;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Container>\r\n        <div className=\"dropdown\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn dropdown-toggle\"\r\n            id=\"dropdownMsv\"\r\n            data-toggle=\"dropdown\"\r\n            aria-haspopup=\"true\"\r\n            aria-expanded=\"true\"\r\n          >\r\n            Chọn lớp &nbsp; <span className=\"fa fa-caret-square-o-down\"></span>\r\n          </button>\r\n          <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu1\">\r\n            {lop.map((item) => (\r\n              <li\r\n                to=\"/home/list-students\"\r\n                key={item}\r\n                onClick={() => this.ChooseClass(item)}\r\n              >\r\n                <a role=\"button\">{item}</a>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <label\r\n          style={{\r\n            padding: \"5px\",\r\n          }}\r\n        >\r\n          {sessionStorage.getItem(\"item\")}\r\n        </label>\r\n        <br /> <br />\r\n        <Chart2>\r\n          <h3 style={{ textAlign: \"center\" }}>\r\n            BIỂU ĐỒ THỐNG KÊ GPA SINH VIÊN\r\n          </h3>\r\n          <Center2>\r\n            <PieChart width={500} height={450}>\r\n              <Pie\r\n                data={data_pie_chart}\r\n                isAnimationActive={true}\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                label={renderCustom}\r\n                outerRadius={120}\r\n                fill=\"#8884d8\"\r\n                dataKey=\"value\"\r\n              >\r\n                {data_pie_chart.map((entry, index) => (\r\n                  <Cell\r\n                    key={`cell-${index}`}\r\n                    fill={COLORS[index % COLORS.length]}\r\n                  />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip />\r\n              <Legend />\r\n            </PieChart>{\" \"}\r\n          </Center2>\r\n        </Chart2>\r\n        <Chart1>\r\n          <h3 style={{ textAlign: \"center\" }}>\r\n            BIỂU ĐỒ THỐNG KÊ TRẠNG THÁI SINH VIÊN\r\n          </h3>\r\n          <Center1>\r\n            <ComposedChart width={900} height={500} data={data_bar_chart}>\r\n              <CartesianGrid stroke=\"#f5f5f5\" />\r\n              <XAxis dataKey=\"name\" scale=\"band\" />\r\n              <YAxis />\r\n              <Tooltip />\r\n              <Bar dataKey=\"Số_SV\" barSize={50} fill=\"#413ea0\" />\r\n              <Line type=\"monotone\" dataKey=\"Số_SV\" stroke=\"#ff7300\" />\r\n            </ComposedChart>\r\n          </Center1>\r\n        </Chart1>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Chart;\r\n"]},"metadata":{},"sourceType":"module"}