{"ast":null,"code":"var _jsxFileName = \"D:\\\\UTE\\\\DienToanDamMay\\\\FinalProject\\\\student_management\\\\client\\\\src\\\\ListStudent\\\\Components\\\\ListSV.js\";\n\n/* eslint-disable react/style-prop-object */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { Component } from \"react\";\nimport Sort from \"./Sort\";\nimport OneRowData from \"./OneRowData\";\nimport CallApi from \"./../../API/CallApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ListSV extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onDelete = (_id, msv) => {\n      this.props.onDelete(_id, msv);\n    };\n\n    this.onChange = event => {\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n      this.setState({\n        filter: {\n          [name]: value\n        }\n      });\n    };\n\n    this.onSort = (sortBy, sortValue) => {\n      this.setState({\n        sort: {\n          by: sortBy,\n          value: sortValue\n        }\n      });\n    };\n\n    this.state = {\n      students: this.props.students,\n      filter: {\n        msv: \"\",\n        name: \"\",\n        gender: \"\",\n        gpa: \"\",\n        status: \"\"\n      },\n      sort: {\n        by: \"msv\",\n        value: 1\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      students: this.props.students\n    });\n  }\n\n  render() {\n    var {\n      filter,\n      sort\n    } = this.state;\n    var students = this.props.students;\n    console.log(students);\n\n    if (filter) {\n      if (filter.msv) {\n        students = students.filter(student => {\n          return student.msv.indexOf(filter.msv) === 0;\n        });\n      }\n\n      if (filter.name) {\n        students = students.filter(student => {\n          return student.name.indexOf(filter.name) !== -1;\n        });\n      }\n\n      if (filter.gender) {\n        students = students.filter(student => {\n          if (filter.gender === \"all\") return true;else return student.gender === filter.gender;\n        });\n      }\n\n      if (filter.gpa) {\n        students = students.filter(student => {\n          if (filter.gpa === \"all\") return true;else if (filter.gpa === \"2.0\") return student.gpa < 2.0;else {\n            var gpa = filter.gpa.toString().split(\"-\");\n            return student.gpa > gpa[0] && student.gpa <= gpa[1];\n          }\n        });\n      }\n\n      if (filter.status) {\n        students = students.filter(student => {\n          if (filter.status === \"all\") return true;else return student.status === filter.status;\n        });\n      }\n    }\n\n    if (sort) {\n      if (sort.by === \"msv\") {\n        students.sort((student1, student2) => {\n          //console.log(typeof student1.name,'-',student2.name);\n          if (student1.msv > student2.msv) return sort.value;else if (student1.msv < student2.msv) return -sort.value;else return 0;\n        });\n      } else if (sort.by === \"name\") {\n        students.sort((student1, student2) => {\n          if (student1.name.localeCompare(student2.name) < 0) return sort.value;else if (student1.name.localeCompare(student2.name) > 0) return -sort.value;else return 0;\n        });\n      } else {\n        students.sort((student1, student2) => {\n          if (student1.gpa > student2.gpa) return sort.value;else if (student1.gpa < student2.gpa) return -sort.value;else return 0;\n        });\n      }\n    }\n\n    var studentList = students.map((student, index) => {\n      return /*#__PURE__*/_jsxDEV(OneRowData, {\n        index: index,\n        student: student,\n        onDelete: this.onDelete\n      }, student.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-bordered table-hover\",\n        children: [/*#__PURE__*/_jsxDEV(Sort, {\n          onSort: this.onSort\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                name: \"msv\",\n                value: filter.msv,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                name: \"name\",\n                value: filter.name,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-control\",\n                name: \"gender\",\n                value: filter.gender,\n                onChange: this.onChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"all\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Nam\",\n                  children: \"Nam\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"N\\u1EEF\",\n                  children: \"N\\u1EEF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-control\",\n                name: \"gpa\",\n                value: filter.gpa,\n                onChange: this.onChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"all\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"3.6-4.0\",\n                  children: \"3.6 - 4.0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"3.2-3.6\",\n                  children: \"3.2 - 3.6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"2.5-3.0\",\n                  children: \"2.5 - 3.2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"2.0-2.5\",\n                  children: \"2.0 - 2.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"2.0\",\n                  children: \"< 2.0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-control\",\n                name: \"status\",\n                value: filter.status,\n                onChange: this.onChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"all\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Kh\\xF4ng\",\n                  children: \"Kh\\xF4ng \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Nguy c\\u01A1 ngh\\u1EC9 h\\u1ECDc\",\n                  children: \"Nguy c\\u01A1 ngh\\u1EC9 h\\u1ECDc\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"C\\u1EA3nh b\\xE1o h\\u1ECDc v\\u1EE5\",\n                  children: \"C\\u1EA3nh b\\xE1o h\\u1ECDc v\\u1EE5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Thi\\u1EBFu t\\xEDn ch\\u1EC9\",\n                  children: \"Thi\\u1EBFu t\\xEDn ch\\u1EC9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Thi\\u1EBFu h\\u1ECDc ph\\xED\",\n                  children: \"Thi\\u1EBFu h\\u1ECDc ph\\xED\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Khen th\\u01B0\\u1EDFng\",\n                  children: \"Khen th\\u01B0\\u1EDFng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), studentList]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ListSV;","map":{"version":3,"sources":["D:/UTE/DienToanDamMay/FinalProject/student_management/client/src/ListStudent/Components/ListSV.js"],"names":["React","Component","Sort","OneRowData","CallApi","ListSV","constructor","props","onDelete","_id","msv","onChange","event","target","name","value","setState","filter","onSort","sortBy","sortValue","sort","by","state","students","gender","gpa","status","componentDidMount","render","console","log","student","indexOf","toString","split","student1","student2","localeCompare","studentList","map","index","id"],"mappings":"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","sourcesContent":["/* eslint-disable react/style-prop-object */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { Component } from \"react\";\r\nimport Sort from \"./Sort\";\r\nimport OneRowData from \"./OneRowData\";\r\nimport CallApi from \"./../../API/CallApi\";\r\n\r\nclass ListSV extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      students: this.props.students,\r\n      filter: {\r\n        msv: \"\",\r\n        name: \"\",\r\n        gender: \"\",\r\n        gpa: \"\",\r\n        status: \"\",\r\n      },\r\n      sort: {\r\n        by: \"msv\",\r\n        value: 1,\r\n      },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      students: this.props.students,\r\n    });\r\n  }\r\n\r\n  onDelete = (_id, msv) => {\r\n    this.props.onDelete(_id, msv);\r\n  };\r\n\r\n  onChange = (event) => {\r\n    var target = event.target;\r\n    var name = target.name;\r\n    var value = target.value;\r\n    this.setState({\r\n      filter: {\r\n        [name]: value,\r\n      },\r\n    });\r\n  };\r\n\r\n  onSort = (sortBy, sortValue) => {\r\n    this.setState({\r\n      sort: {\r\n        by: sortBy,\r\n        value: sortValue,\r\n      },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    var { filter, sort } = this.state;\r\n    var students = this.props.students;\r\n    console.log(students);\r\n    if (filter) {\r\n      if (filter.msv) {\r\n        students = students.filter((student) => {\r\n          return student.msv.indexOf(filter.msv) === 0;\r\n        });\r\n      }\r\n      if (filter.name) {\r\n        students = students.filter((student) => {\r\n          return student.name.indexOf(filter.name) !== -1;\r\n        });\r\n      }\r\n      if (filter.gender) {\r\n        students = students.filter((student) => {\r\n          if (filter.gender === \"all\") return true;\r\n          else return student.gender === filter.gender;\r\n        });\r\n      }\r\n      if (filter.gpa) {\r\n        students = students.filter((student) => {\r\n          if (filter.gpa === \"all\") return true;\r\n          else if (filter.gpa === \"2.0\") return student.gpa < 2.0;\r\n          else {\r\n            var gpa = filter.gpa.toString().split(\"-\");\r\n            return student.gpa > gpa[0] && student.gpa <= gpa[1];\r\n          }\r\n        });\r\n      }\r\n      if (filter.status) {\r\n        students = students.filter((student) => {\r\n          if (filter.status === \"all\") return true;\r\n          else return student.status === filter.status;\r\n        });\r\n      }\r\n    }\r\n\r\n    if (sort) {\r\n      if (sort.by === \"msv\") {\r\n        students.sort((student1, student2) => {\r\n          //console.log(typeof student1.name,'-',student2.name);\r\n          if (student1.msv > student2.msv) return sort.value;\r\n          else if (student1.msv < student2.msv) return -sort.value;\r\n          else return 0;\r\n        });\r\n      } else if (sort.by === \"name\") {\r\n        students.sort((student1, student2) => {\r\n          if (student1.name.localeCompare(student2.name) < 0) return sort.value;\r\n          else if (student1.name.localeCompare(student2.name) > 0)\r\n            return -sort.value;\r\n          else return 0;\r\n        });\r\n      } else {\r\n        students.sort((student1, student2) => {\r\n          if (student1.gpa > student2.gpa) return sort.value;\r\n          else if (student1.gpa < student2.gpa) return -sort.value;\r\n          else return 0;\r\n        });\r\n      }\r\n    }\r\n    var studentList = students.map((student, index) => {\r\n      return (\r\n        <OneRowData\r\n          key={student.id}\r\n          index={index}\r\n          student={student}\r\n          onDelete={this.onDelete}\r\n        />\r\n      );\r\n    });\r\n    return (\r\n      <div>\r\n        <table className=\"table table-bordered table-hover\">\r\n          <Sort onSort={this.onSort} />\r\n\r\n          <tbody>\r\n            <tr>\r\n              <td></td>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"msv\"\r\n                  value={filter.msv}\r\n                  onChange={this.onChange}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"name\"\r\n                  value={filter.name}\r\n                  onChange={this.onChange}\r\n                />\r\n              </td>\r\n              <td></td>\r\n              <td>\r\n                <select\r\n                  className=\"form-control\"\r\n                  name=\"gender\"\r\n                  value={filter.gender}\r\n                  onChange={this.onChange}\r\n                >\r\n                  <option value=\"all\"></option>\r\n                  <option value=\"Nam\">Nam</option>\r\n                  <option value=\"Nữ\">Nữ</option>\r\n                </select>\r\n              </td>\r\n              <td>\r\n                <select\r\n                  className=\"form-control\"\r\n                  name=\"gpa\"\r\n                  value={filter.gpa}\r\n                  onChange={this.onChange}\r\n                >\r\n                  <option value=\"all\"></option>\r\n                  <option value=\"3.6-4.0\">3.6 - 4.0</option>\r\n                  <option value=\"3.2-3.6\">3.2 - 3.6</option>\r\n                  <option value=\"2.5-3.0\">2.5 - 3.2</option>\r\n                  <option value=\"2.0-2.5\">2.0 - 2.5</option>\r\n                  <option value=\"2.0\">&lt; 2.0</option>\r\n                </select>\r\n              </td>\r\n              <td>\r\n                <select\r\n                  className=\"form-control\"\r\n                  name=\"status\"\r\n                  value={filter.status}\r\n                  onChange={this.onChange}\r\n                >\r\n                  <option value=\"all\"></option>\r\n                  <option value=\"Không\">Không </option>\r\n                  <option value=\"Nguy cơ nghỉ học\">Nguy cơ nghỉ học</option>\r\n                  <option value=\"Cảnh báo học vụ\">Cảnh báo học vụ</option>\r\n                  <option value=\"Thiếu tín chỉ\">Thiếu tín chỉ</option>\r\n                  <option value=\"Thiếu học phí\">Thiếu học phí</option>\r\n                  <option value=\"Khen thưởng\">Khen thưởng</option>\r\n                </select>\r\n              </td>\r\n              <td></td>\r\n            </tr>\r\n            {studentList}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ListSV;\r\n"]},"metadata":{},"sourceType":"module"}